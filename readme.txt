h1. Схема работы

h2. Ручная работа

1. Разворачивать сервера (hosts).
2. Покупать домены (domains).
3. Планировать сетки доров (nets).
4. Придумывать тематики доров (niches).
5. Парсить кейворды по темам (keywords sets).
6. Делать шаблоны (templates).
7. Устанавливать расписание генерации доров (schedules).
8. Добавлять сырые базы хрумера (xrumer bases raw).

h2. Автомат

h3. Часть A

1. Агент сбора прокси собирает прокси.
2. Агент сбора сниппетов парсит сниппеты по заданным темам.
3. Агент хрумера создает базы R по заданным сырым базам и темам. 

h3. Часть B

4. По расписаниям (schedules) генерируются задания на доры (doorways). 
Автоматически выбираются кейворды по выбранной теме и ссылки для линка с 
выбранной сеткой.
5. Агент доргена по заданиям на доры генерирует доры и заливает их на хост 
(данные для заливки берутся из хоста).
6. По выполненным заданиям на доры и имеющимся базам R генерируются задания на 
спам.

h3. Часть C

7. Агент хрумера спамит по сформированным заданиям.  

h2. Работа с базами

Из одной сырой базы можно сделать несколько баз R. По одной базе R можно 
выполнять постинг неограниченное число раз.


h1. Действия, выполняемые приложением

h2. По необходимости

При добавлении/сохранении объектов - см. методы save() соответствующих объектов.

h2. По расписанию

При каждом вызове cron.py происходит:
1. Генерация заданий для сбора сниппетов (SnippetsSet).
2. Генерация заданий для генерации дорвеев (Doorway, DoorwaySchedule).
3. Генерация заданий для спама по имеющимся дорвеям и базам R (SpamTask).

h2. Страница статуса

На странице отображаются проблемы в системе:

1. Агенты, у которых давно нет активности
2. Наборы сниппетов, число которых <= 1000
3. Выполненные задания на спам, доля успешных постов в которых <= 30%
4. Ниши, у которых:
4.1. активных доменов <= 3
4.2. число наборов кейвордов <= 0
4.3. число шаблонов <= 0
4.4. число наборов сниппетов <= 0
4.5. число баз р <= 0


h1. Настройки программы

1. Поставить вызов cron.py по расписанию каждые 15 минут.
2. В методе AddDomainToControlPanel находится URL скрипта добавления домена в 
панель управления. В скрипте находятся логин и пароль для доступа к API панели 
(предполагается, что для всех панелей одного типа они одинаковые). 
3. В конструкторе агентов находится URL центра администрирования
4. На хостах должен быть разрешен chmod через ftp, на корни сайтов права должны 
быть 02775.


h1. Реализация агентов

Детали реализации описаны в модуле agent.py.
